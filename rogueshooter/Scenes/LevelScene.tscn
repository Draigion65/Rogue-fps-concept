[gd_scene load_steps=12 format=3 uid="uid://cjy5sisnxo1g3"]

[ext_resource type="Script" path="res://Scripts/SceneManagerMagic.gd" id="1_2ulyr"]
[ext_resource type="Texture2D" uid="uid://c4wetdmx7w3s5" path="res://Mats/BackGNoise.tres" id="2_nt2qs"]
[ext_resource type="Texture2D" uid="uid://drwdi3sy8d64g" path="res://MiscSprites/icon.svg" id="5_a6070"]
[ext_resource type="PackedScene" uid="uid://cbfndtdanibgs" path="res://Guns/generic_gun.tscn" id="7_cbqcy"]
[ext_resource type="Script" path="res://Scenes/SubViewSetup.gd" id="8_6naox"]
[ext_resource type="Script" path="res://Scripts/Player.gd" id="8_ny24o"]
[ext_resource type="Texture2D" uid="uid://dlsuj0s0sahfd" path="res://MiscSprites/CrossDiag.png" id="8_olp60"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_bjdyl"]
panorama = ExtResource("2_nt2qs")
filter = false

[sub_resource type="Sky" id="Sky_otpql"]
sky_material = SubResource("PanoramaSkyMaterial_bjdyl")

[sub_resource type="Environment" id="Environment_mthvi"]
background_mode = 2
sky = SubResource("Sky_otpql")
ambient_light_source = 1
ambient_light_color = Color(0.462745, 0.235294, 0.286275, 1)
ambient_light_sky_contribution = 0.26
ambient_light_energy = 0.05
fog_light_color = Color(0, 0, 0, 1)
volumetric_fog_density = 0.06
volumetric_fog_albedo = Color(0, 0, 0, 1)
volumetric_fog_emission = Color(0.508821, 0.304033, 0.30278, 1)
volumetric_fog_emission_energy = 0.1
volumetric_fog_sky_affect = 0.0
volumetric_fog_temporal_reprojection_amount = 0.8

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ynome"]

[node name="Node3D" type="Node3D"]
script = ExtResource("1_2ulyr")
xyScale = Vector2(20, 20)
walkScale = 70
stepScale = 35
roomScale = 7

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_mthvi")

[node name="GenericGun" parent="." instance=ExtResource("7_cbqcy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, -3)

[node name="Player" type="RigidBody3D" parent="."]
physics_interpolation_mode = 2
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, -3)
collision_layer = 129
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
mass = 2.0
can_sleep = false
script = ExtResource("8_ny24o")
headbobScalar = 0.07
moveVecScalar = Vector2(2, 2)
rotVecScalar = Vector2(0.006, 0.006)
dragf = 0.15
jumpDist = 20.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_ynome")

[node name="Sprite3D" type="Sprite3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0999999)
texture = ExtResource("5_a6070")

[node name="Neck" type="Node3D" parent="Player"]

[node name="FPScam" type="Camera3D" parent="Player/Neck"]
rotation_edit_mode = 1
cull_mask = 1048573
fov = 90.0

[node name="UICanvas" type="CanvasLayer" parent="Player"]
follow_viewport_enabled = true

[node name="SubViewportContainer" type="SubViewportContainer" parent="Player/UICanvas"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="Player/UICanvas/SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(640, 360)
render_target_update_mode = 4
script = ExtResource("8_6naox")

[node name="GunCam" type="Camera3D" parent="Player/UICanvas/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, -3)
rotation_edit_mode = 1
cull_mask = 2
fov = 90.0

[node name="TextureRect" type="TextureRect" parent="Player/UICanvas"]
modulate = Color(1, 1, 1, 0.294118)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -8.0
offset_top = -8.0
offset_right = 24.0
offset_bottom = 24.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)
texture = ExtResource("8_olp60")
metadata/_edit_use_anchors_ = true

[node name="AmbientBodyLight" type="OmniLight3D" parent="Player"]
light_energy = 1.3
light_indirect_energy = 2.0
omni_attenuation = 2.0
